



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="./assets/window-cleaner.ico">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.3">
    
    
      
        <title>Cliar: Easy, extensible, and testable CLIs</title>
      
    
    
      <link rel="stylesheet" href="./assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="./assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="./assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:300,400,400i,700|PT+Mono">
        <style>body,input{font-family:"PT Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"PT Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#cliar" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Cliar: Easy, extensible, and testable CLIs" class="md-header-nav__button md-logo">
          
            <img src="./assets/window-cleaner.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Cliar: Easy, extensible, and testable CLIs
              </span>
              <span class="md-header-nav__topic">
                Home
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/moigagoo/cliar/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      moigagoo/cliar
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="./assets/window-cleaner.svg" width="48" height="48">
      
    </span>
    Cliar: Easy, extensible, and testable CLIs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/moigagoo/cliar/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      moigagoo/cliar
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Home
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-of-python-cli-packages" title="Comparison of Python CLI Packages" class="md-nav__link">
    Comparison of Python CLI Packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-usage" title="Basic Usage" class="md-nav__link">
    Basic Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#but-wait-theres-more" title="But wait! There's more!" class="md-nav__link">
    But wait! There's more!
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="tutorial/" title="Tutorial" class="md-nav__link">
      Tutorial
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-of-python-cli-packages" title="Comparison of Python CLI Packages" class="md-nav__link">
    Comparison of Python CLI Packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-usage" title="Basic Usage" class="md-nav__link">
    Basic Usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#but-wait-theres-more" title="But wait! There's more!" class="md-nav__link">
    But wait! There's more!
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/moigagoo/cliar/edit/develop/docs/src/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a href="https://pypi.org/project/cliar"><img alt="image" src="https://img.shields.io/pypi/v/cliar.svg" /></a>
<a href="https://travis-ci.org/moigagoo/cliar"><img alt="image" src="https://travis-ci.org/moigagoo/cliar.svg?branch=develop" /></a>
<a href="https://codecov.io/gh/moigagoo/cliar"><img alt="image" src="https://codecov.io/gh/moigagoo/cliar/branch/develop/graph/badge.svg" /></a></p>
<h1 id="cliar">Cliar<a class="headerlink" href="#cliar" title="Permanent link">&para;</a></h1>
<p>Cliar is yet another Python package to create commandline interfaces. It focuses on simplicity, extensibility, and testability:</p>
<ul>
<li>Creating a CLI is as simple as subclassing <code>cliar.Cliar</code>.</li>
<li>Extending a CLI is as simple as extending a class via inheritance.</li>
<li>Testing a CLI is as simple as unittesting a class methods.</li>
</ul>
<p>Cliar's mission is to let the programmer focus on the business logic instead of building an interface for it. At the same time, Cliar doesn't want to stand in the programmer's way, so it provides the means to customize the generated CLI.</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>$ pip install cliar
</pre></div>


<p>Cliar runs on Python 3.6+ on Windows, Linux, and Mac. There are no dependencies outside Python's standard library.</p>
<h2 id="comparison-of-python-cli-packages">Comparison of Python CLI Packages<a class="headerlink" href="#comparison-of-python-cli-packages" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>DSL-based</th>
<th>Uses type hints</th>
<th>Extensible</th>
<th>Testable with unit tests</th>
<th>Has pun in name</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://click.pocoo.org/">Click</a></td>
<td>❌</td>
<td>❌</td>
<td>✔, in third-party modules</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="http://docopt.org/">docopt</a></td>
<td>✔</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td><a href="https://docs.python.org/3/library/argparse.html">argparse</a></td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
<tr>
<td><a href="https://moigagoo.github.io/cliar/">Cliar</a></td>
<td>❌</td>
<td>✔</td>
<td>✔, in third-party modules <em>and</em> with third-party modules</td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
<h2 id="basic-usage">Basic Usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h2>
<p>Let's create a commandline calculator that adds two real numbers with Cliar:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">cliar</span> <span class="kn">import</span> <span class="n">Cliar</span>


<span class="k">class</span> <span class="nc">Calculator</span><span class="p">(</span><span class="n">Cliar</span><span class="p">):</span>
<span class="sd">&#39;&#39;&#39;Calculator app.&#39;&#39;&#39;</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Add two real numbers.&#39;&#39;&#39;</span>

    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;The sum of {x} and {y} is {x+y}.&#39;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">Calculator</span><span class="p">()</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</pre></div>


<p>Save this code to <code>calc.py</code> and run it with different inputs:</p>
<ul>
<li>
<p>Valid input:</p>
<div class="codehilite"><pre><span></span>$ python run calc.py add <span class="m">12</span> <span class="m">34</span>
The sum of <span class="m">12</span>.0 and <span class="m">34</span>.0 is <span class="m">46</span>.0.
</pre></div>


</li>
<li>
<p>Invalid input:</p>
<div class="codehilite"><pre><span></span>$ python run calc.py foo bar
usage: calc.py add <span class="o">[</span>-h<span class="o">]</span> x y
calc.py add: error: argument x: invalid float value: <span class="s1">&#39;foo&#39;</span>
</pre></div>


</li>
<li>
<p>Get help:</p>
<div class="codehilite"><pre><span></span>$ python run calc.py -h
usage: calc.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">{</span>add<span class="o">}</span> ...

Calculator app.

optional arguments:
-h, --help  show this <span class="nb">help</span> message and <span class="nb">exit</span>

commands:
<span class="o">{</span>add<span class="o">}</span>       Available commands:
    add       Add two real numbers.
</pre></div>


</li>
<li>
<p>Get help for a specific command:</p>
<div class="codehilite"><pre><span></span>$ python calc.py add -h
usage: calc.py add <span class="o">[</span>-h<span class="o">]</span> x y

Add two real numbers.

positional arguments:
x
y

optional arguments:
-h, --help  show this <span class="nb">help</span> message and <span class="nb">exit</span>
</pre></div>


</li>
</ul>
<p>There are a few things to note here:</p>
<ul>
<li>
<p>It's a regular Python class with a regular Python method. You don't need to learn any new syntax to use Cliar.</p>
</li>
<li>
<p>The <code>add</code> method is converted into <code>add</code> command, and its positional params are converted into positional commandline args.</p>
</li>
<li>
<p>We don't convert <code>x</code> or <code>y</code> to <code>float</code> or handle any potential conversion errors in the <code>add</code> body. Instead, we treat <code>x</code> and <code>y</code> as if they were already guaranteed to be floats. That's because Cliar does the validation and conversion for us, using the information from <code>add</code>'s type hints. Note how invalid input doesn't even reach your code.</p>
</li>
<li>
<p>The <code>--help</code> and <code>-h</code> flags are added automatically and the help messages are generated from the docstrings.</p>
</li>
</ul>
<h2 id="but-wait-theres-more">But wait! There's more!<a class="headerlink" href="#but-wait-theres-more" title="Permanent link">&para;</a></h2>
<p>Cliar lets you customize your CLI in many ways! <a href="https://moigagoo.github.io/cliar/tutorial/">Read the tutorial</a> to learn all Cliar's powers.</p>
<p>Happy hacking!</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="tutorial/" title="Tutorial" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tutorial
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <p>Created by <a href="https://github.com/moigagoo/">Konstantin Molchanov</a> using <a href="https://foliant-docs.github.io/docs/">Foliant</a>.</p> <p>Icons made by <a href="https://www.flaticon.com/authors/those-icons">Those Icons</a> from <a href="https://www.flaticon.com">Flaticon</a>.</p>

          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/moigagoo/cliar" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="./assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-120535275-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>